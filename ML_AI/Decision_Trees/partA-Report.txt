Action  0 

Previous Belief state:  [0.3333333333333333, 0.3333333333333333, 0, 0, 0.3333333333333333]
Action: Right
Observation: Red


STATE S1

Sum = 0.11 × 0.333333 + 0.11 × 0.333333 + 0.0 × 0 + 0.0 × 0 + 0.0 × 0.333333 + 
 = 0.036667 + 0.036667 + 0.0 + 0.0 + 0.0 + 
 =  0.073333

New belief state =  0.8 × 0.073333 = 0.058667


STATE S2

Sum = 0.89 × 0.333333 + 0.0 × 0.333333 + 0.11 × 0 + 0.0 × 0 + 0.0 × 0.333333 + 
 = 0.296667 + 0.0 + 0.0 + 0.0 + 0.0 + 
 =  0.296667

New belief state =  0.8 × 0.296667 = 0.237333


STATE S3

Sum = 0.0 × 0.333333 + 0.89 × 0.333333 + 0.0 × 0 + 0.11 × 0 + 0.0 × 0.333333 + 
 = 0.0 + 0.296667 + 0.0 + 0.0 + 0.0 + 
 =  0.296667

New belief state =  0.05 × 0.296667 = 0.014833


STATE S4

Sum = 0.0 × 0.333333 + 0.0 × 0.333333 + 0.89 × 0 + 0.0 × 0 + 0.11 × 0.333333 + 
 = 0.0 + 0.0 + 0.0 + 0.0 + 0.036667 + 
 =  0.036667

New belief state =  0.05 × 0.036667 = 0.001833


STATE S5

Sum = 0.0 × 0.333333 + 0.0 × 0.333333 + 0.0 × 0 + 0.89 × 0 + 0.89 × 0.333333 + 
 = 0.0 + 0.0 + 0.0 + 0.0 + 0.296667 + 
 =  0.296667

New belief state =  0.8 × 0.296667 = 0.237333

Before normalising,  [0.058667, 0.237333, 0.014833, 0.001833, 0.237333]
dividing by  0.55
After normalising,  [0.106667, 0.431515, 0.02697, 0.003333, 0.431515]
Sum:  1.0



Action  1 

Previous Belief state:  [0.10666666666666666, 0.4315151515151515, 0.02696969696969697, 0.003333333333333333, 0.4315151515151515]
Action: Left
Observation: Green


STATE S1

Sum = 0.89 × 0.106667 + 0.89 × 0.431515 + 0.0 × 0.02697 + 0.0 × 0.003333 + 0.0 × 0.431515 + 
 = 0.094933 + 0.384048 + 0.0 + 0.0 + 0.0 + 
 =  0.478982

New belief state =  0.2 × 0.478982 = 0.095796


STATE S2

Sum = 0.11 × 0.106667 + 0.0 × 0.431515 + 0.89 × 0.02697 + 0.0 × 0.003333 + 0.0 × 0.431515 + 
 = 0.011733 + 0.0 + 0.024003 + 0.0 + 0.0 + 
 =  0.035736

New belief state =  0.2 × 0.035736 = 0.007147


STATE S3

Sum = 0.0 × 0.106667 + 0.11 × 0.431515 + 0.0 × 0.02697 + 0.89 × 0.003333 + 0.0 × 0.431515 + 
 = 0.0 + 0.047467 + 0.0 + 0.002967 + 0.0 + 
 =  0.050433

New belief state =  0.95 × 0.050433 = 0.047912


STATE S4

Sum = 0.0 × 0.106667 + 0.0 × 0.431515 + 0.11 × 0.02697 + 0.0 × 0.003333 + 0.89 × 0.431515 + 
 = 0.0 + 0.0 + 0.002967 + 0.0 + 0.384048 + 
 =  0.387015

New belief state =  0.95 × 0.387015 = 0.367664


STATE S5

Sum = 0.0 × 0.106667 + 0.0 × 0.431515 + 0.0 × 0.02697 + 0.11 × 0.003333 + 0.11 × 0.431515 + 
 = 0.0 + 0.0 + 0.0 + 0.000367 + 0.047467 + 
 =  0.047833

New belief state =  0.2 × 0.047833 = 0.009567

Before normalising,  [0.095796, 0.007147, 0.047912, 0.367664, 0.009567]
dividing by  0.528086
After normalising,  [0.181403, 0.013534, 0.090727, 0.69622, 0.018116]
Sum:  0.9999999999999998



Action  2 

Previous Belief state:  [0.18140283528004197, 0.01353428760791537, 0.09072695294904125, 0.69622020043783, 0.018115723725171215]
Action: Left
Observation: Green


STATE S1

Sum = 0.89 × 0.181403 + 0.89 × 0.013534 + 0.0 × 0.090727 + 0.0 × 0.69622 + 0.0 × 0.018116 + 
 = 0.161449 + 0.012046 + 0.0 + 0.0 + 0.0 + 
 =  0.173494

New belief state =  0.2 × 0.173494 = 0.034699


STATE S2

Sum = 0.11 × 0.181403 + 0.0 × 0.013534 + 0.89 × 0.090727 + 0.0 × 0.69622 + 0.0 × 0.018116 + 
 = 0.019954 + 0.0 + 0.080747 + 0.0 + 0.0 + 
 =  0.100701

New belief state =  0.2 × 0.100701 = 0.02014


STATE S3

Sum = 0.0 × 0.181403 + 0.11 × 0.013534 + 0.0 × 0.090727 + 0.89 × 0.69622 + 0.0 × 0.018116 + 
 = 0.0 + 0.001489 + 0.0 + 0.619636 + 0.0 + 
 =  0.621125

New belief state =  0.95 × 0.621125 = 0.590069


STATE S4

Sum = 0.0 × 0.181403 + 0.0 × 0.013534 + 0.11 × 0.090727 + 0.0 × 0.69622 + 0.89 × 0.018116 + 
 = 0.0 + 0.0 + 0.00998 + 0.0 + 0.016123 + 
 =  0.026103

New belief state =  0.95 × 0.026103 = 0.024798


STATE S5

Sum = 0.0 × 0.181403 + 0.0 × 0.013534 + 0.0 × 0.090727 + 0.11 × 0.69622 + 0.11 × 0.018116 + 
 = 0.0 + 0.0 + 0.0 + 0.076584 + 0.001993 + 
 =  0.078577

New belief state =  0.2 × 0.078577 = 0.015715

Before normalising,  [0.034699, 0.02014, 0.590069, 0.024798, 0.015715]
dividing by  0.685421
After normalising,  [0.050624, 0.029384, 0.860885, 0.036179, 0.022928]
Sum:  1.0
Beliefs after each action:  [[0.106667, 0.431515, 0.02697, 0.003333, 0.431515], [0.181403, 0.013534, 0.090727, 0.69622, 0.018116], [0.050624, 0.029384, 0.860885, 0.036179, 0.022928]]
